$box-translate-value: 6px

.box-group
  padding-top: 1.5rem

.box
  position: relative
  display: block
  overflow: hidden
.box-background
  @extend %accelerate
  @extend %abs
  margin: 4*$px
  background-color: $accent
  border-radius: $r
  opacity: 0
  transform: translateY(-$box-translate-value)
  a.box:hover &
    opacity: 1
    transform: translateY(0)
    animation: box-background-hover .2s cubic-bezier(0.39,.575,.565,1)
.box-content
  @extend %accelerate
  padding: 1rem
  margin: .5rem
  overflow: hidden
  background-color: $box-background
  border-radius: $r
  box-shadow: 0 2px 2px 0 rgba(0,0,0,.2)
  background-clip: padding-box
  animation: box-content-appear .2s cubic-bezier(0.39,.575,.565,1)
  a.box:hover &
    animation: box-content-hover .2s cubic-bezier(0.39,.575,.565,1)
    transform: translateY(-$box-translate-value)
.box-footer
  @extend %abs
  top: auto
  padding: 1rem

.ratio-box
  @extend %abs
  &:before
    display: block
    padding-top: 100%
    content: ""
  .box-content
    @extend %abs

a.box
  color: $secondary-text

.ratio-1-2:before
  padding-top: 200%
.ratio-2-1:before
  padding-top: 50%
.ratio-2-3:before
  padding-top: (3/2)*100%
.ratio-3-2:before
  padding-top: (2/3)*100%
.ratio-3-4:before
  padding-top: (4/3)*100%
.ratio-4-3:before
  padding-top: (3/4)*100%
.ratio-3-1:before
  padding-top: (1/3)*100%
.ratio-4-1:before
  padding-top: 25%
.ratio-8-1:before
  padding-top: 12.5%
.ratio-8-9:before
  padding-top: (9/8)*100%
.ratio-8-3:before
  padding-top: (3/8)*100%


@media only screen and (min-width: #{($break-1)/16*1em})
  // s
  // .s-ratio-1-2:before
  //   padding-top: 50%
@media only screen and (min-width: #{($break-2)/16*1em})
  // m
  .m-ratio-1:before
    padding-top: 100%
  .m-ratio-2-1:before
    padding-top: 50%
  .m-ratio-2-3:before
    padding-top: (3/2)*100%
  .m-ratio-3-1:before
    padding-top: (1/3)*100%
  .m-ratio-3-4:before
    padding-top: (4/3)*100%
  .m-ratio-4-3:before
    padding-top: (3/4)*100%
@media only screen and (min-width: #{($break-3)/16*1em})
  // l
  .l-ratio-1-2:before
    padding-top: 200%
  .l-ratio-2-1:before
    padding-top: 50%
  .l-ratio-3-1:before
    padding-top: (1/3)*100%
  .l-ratio-4-3:before
    padding-top: (3/4)*100%


@keyframes box-backgorund-appear
  from
    opacity: 1
    transform: translateY(0)
  to
    opacity: 0
    transform: translateY(-$box-translate-value)

@keyframes box-background-hover
  from
    transform: translateY(-$box-translate-value)
    opacity: 0
  to
    transform: translateY(0)
    opacity: 1

@keyframes box-content-appear
  from
    transform: translateY(-$box-translate-value)
  to
    transform: translateY(0)

@keyframes box-content-hover
  from
    transform: translateY(0)
  to
    // slightly up
    transform: translateY(-$box-translate-value)
